var iOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?true:false;if(iOS)$("#follower").css({display:"none",visibility:"false",opacity:"0"});var urls=new Array;window.onhashchange=function(){if(String(window.location.hash)==""){try{ref.closeWork()}catch(e){}return}for(var t=0;t<urls.length;t++){if(String("#"+urls[t][1])==String(window.location.hash)){google.maps.event.trigger(urls[t][0],"click");return}}};(function(e){function t(e){ref=this;this.generate();this.settings=e;this.initialize();this.setMap();return this}e.fn.floatControls=function(n,r){if(typeof n==="object")r=n;r=e.extend({},e.fn.floatControls.defaultSettings,r||{});return this.each(function(){var n=e(this);base=this;var i=jQuery.extend(true,{},r);var s=new t(i);n.data("_floatingControlsMap",s)})};e.fn.floatControls.defaultSettings={zoom_level:2,shell:e("#gmap"),active_markers:new Array,active_marker_img:"http://www.joshpope.com/newimages/bullseye.png",marker_img_one:"http://www.joshpope.com/newimages/arrow-1.png",marker_img_two:"http://www.joshpope.com/newimages/arrow-2.png",marker_img_three:"http://www.joshpope.com/newimages/arrow-3.png"};t.prototype={generate:function(){this.container_shell=e("body").prepend("<div id='gmap'></div>");if(!iOS)this.container_shell.append('<div id="follower" style=""><a href="#" id="zoom_in">+</a> <a href="#" id="zoom_out"><span>-</span></a> <a href="#" id="road_map"></a></div>');this.container_shell.append(e('<div id="container"><div id="customZoom"></div></div>'))},initialize:function(){this.settings.map_options.center=new google.maps.LatLng(this.settings.lat_long[0],this.settings.lat_long[1]),this.settings.defaultMap_style=new google.maps.StyledMapType(this.settings.style_obj,{name:"default_map"})},setMap:function(){this.map=new google.maps.Map(document.getElementById("container"),this.settings.map_options);this.map.mapTypes.set("default_map",this.settings.defaultMap_style);this.map.setMapTypeId("default_map");this.settings.bounce_time=1700;google.maps.event.addDomListener(window,"load",function(){ref.markerss=[[ref.settings.lat_long[0],ref.settings.lat_long[1],e.fn.floatControls.defaultSettings.marker_img_one,"<h3>Nike Vintage</h3>I built this site for Nike to showcase their new line of reproduction shoes that are identical in design to their famous \"waffle\" shoes from the 1970's. This quirky flash site (which was all the rage in 2008) was well received at the time (though it is beginning to show its age now!). And the Nike Vintage brand continues to go strong. <br/><br/><a target='_new' href='http://www.nikevintage.com'>Visit NikeVintage.com</a>.","/work-images/mv20jtW21g1skou0yo1_1280.jpg","nike"],[ref.settings.lat_long[0]+.01,ref.settings.lat_long[1]+.01,e.fn.floatControls.defaultSettings.marker_img_two,"<h3>Ferdinand Center For The Creative</h3>Ferdinand Center For The Creative needed a custom wordpress theme and installation for their website, which is a showcase for work from, and information about a non-profit design school in the Philippines. <br/><br/><a target='_new' href='http://www.ferdinandcc.org'>Visit Ferdinandcc.org</a>","/work-images/muwky7iuqa1skou0yo1_1280.jpg","ferdinand"],[ref.settings.lat_long[0]-.042,ref.settings.lat_long[1]+.031,e.fn.floatControls.defaultSettings.marker_img_two,"<h3>Yves Saint Laurent</h3>I had the privilege building the website to coincide with branding and subsequent launch party of yve saint laurent's re-release of classic and infamous Opium line of perfumes. The site was designed for iPad, and included a social media wall that scraped facebook and twitter's public feed for any relevant posts from party goers. The site was also used build excitement toward the launch by slowly revealing more about the product, the design, and the party during the days leading to the launch. Naturally, this site was temporary, but here we have a post-party information site I did for Great Works - which includes video footage from the party, and several stills from the website. <br/><br/><a target='_new' href='http://greatworks.com/luxurysociety/casestudies.html'>http://greatworks.com/luxurysociety/casestudies.html</a>","/work-images/mufbwftbMe1skou0yo1_500.jpg","yves"],[ref.settings.lat_long[0]-.022,ref.settings.lat_long[1]+.035,e.fn.floatControls.defaultSettings.marker_img_one,"<h3>Bloomberg</h3>Built on wordpress- I developed this boutique website to showcase one of Mayor Bloombergs largest side-projects. <br/><br/><a target='_new' href='http://about.bloomberglaw.com'>Visit About.Bloomberglaw.com</a>","/work-images/mu46ypvsVy1skou0yo1_1280.jpg","bloomberg"],[ref.settings.lat_long[0]-.016,ref.settings.lat_long[1]+.055,e.fn.floatControls.defaultSettings.marker_img_three,"<h3>Old Spice</h3>At Wieden+Kennedy one of my roles was to develop symantic markup for rich interactive experiences, which are designed to be modular and easily updated via the cms. The campaign turned out to be a massive success, and the website went on to win several awards. XML driven; fully dynamic, and CMS controlled. <br/><br/><a target='_new' href='http://www.oldspice.com'>Visit OldSpice.com</a>","/work-images/mu45whahiH1skou0yo1_1280.jpg","oldspice"],[ref.settings.lat_long[0]-.026,ref.settings.lat_long[1]-.08,e.fn.floatControls.defaultSettings.marker_img_three,"<h3>Cielo Club</h3>I worked to concept and develop this CMS driven website for the world-famous club in the heart of NYC's MeatPacking district. Often hailed as the best club in Manhattan - I worked directly with the owners to conceive and develop this site using a fully custom WordPress theme and several custom-built plugins. <br/><br/><a target='_new' href='http://www.cieloclub.com'>Visit Cieloclub.com</a>","/work-images/mu44rkX5qz1skou0yo1_1280.jpg","cielo"],[ref.settings.lat_long[0]+.01,ref.settings.lat_long[1]-.077,e.fn.floatControls.defaultSettings.marker_img_three,"<h3>Coca Cola</h3>As technical director on this project, I architected this full-stack website showcasing the <i>make it possible project</i> for Coca Cola. Built on a customized port of Isotope, the responsive plugin for jQuery, this site is fully responsive, localized in multiple languages, and utilizes Drupal to give Coca Cola 100% control over all the content (widgets) that display. <br/><br/><a target='_new' href='http://www.makeitpossibleproject.com'>Visit makeitpossibleproject.com</a>","/work-images/mu3ay9Zfb61skou0yo1_r1_1280.jpg","cocacola"]];e("#follower").addClass("ready");for(var t=0;t<ref.markerss.length;t++)ref.generateMapMarker([ref.markerss[t][0],ref.markerss[t][1]],ref.markerss[t][2],ref.markerss[t][3],ref.markerss[t][4],(t+Math.random())*1500*Math.random(),ref.markerss[t][5]);setTimeout(function(){e(".gm-style").click(function(){if(e(".work").css("opacity")!="0")ref.closeWork()});e("#main").delay(2e3).animate({width:"430px",opacity:"1",duration:"4.5s",easing:"easeInOutBack"});e("#subhead").delay(2900).animate({width:"545px",opacity:"1",duration:"4.5s",easing:"easeInOutBack"});e("#subhead_2").delay(4500).animate({width:"170px",opacity:"1",duration:"4.5s",easing:"easeInOutBack"});e("#subhead_3,.github").delay(4900).animate({width:"55px",opacity:"1",duration:"4.5s",easing:"easeInOutBack"})},2e3)});setTimeout(function(){ref.applyMouseActions();ref.applyMouseTrail()},2500)},generateMapMarker:function(t,n,r,i,s,o){var u=new google.maps.Marker({position:new google.maps.LatLng(t[0],t[1]),map:this.map,icon:n,animation:google.maps.Animation.DROP,draggable:true});u.setVisible(false);u.urlAnchor=o;this.registerURL(u,o);setTimeout(function(){u.setVisible(true)},s);e(document).keydown(function(e){if(e.keyCode==27){ref.closeWork()}});google.maps.event.addListener(u,"click",function(){window.location.hash=this.urlAnchor;this.active=true;ref.openWork();e(".work .text").html(r);e(".work-image").attr({src:i});e(".close").click(function(){ref.closeWork()});u.orig_img=n;ref.registerActiveMarker(u);if(this.orig_img)this.setIcon(this.orig_img);if(this.getAnimation()!=null){this.setAnimation(null);this.setOptions({opacity:1});var t=this;var s=0;setTimeout(function(){t.setIcon(e.fn.floatControls.defaultSettings.active_marker_img)},500)}else{this.orig_img=n;this.setAnimation(google.maps.Animation.BOUNCE);var t=this;this.timer=setTimeout(function(){t.setAnimation(null);t.setIcon(e.fn.floatControls.defaultSettings.active_marker_img)},ref.settings.bounce_time)}});google.maps.event.addListener(u,"mouseover",function(){this.setAnimation(google.maps.Animation.BOUNCE)});google.maps.event.addListener(u,"mouseout",function(){this.setAnimation(null)})},openWork:function(t){e(".work").fadeIn("slow","swing");this.removeMouseTrail()},closeWork:function(t){e(".work").fadeOut();this.applyMouseTrail();window.location.hash=""},registerActiveMarker:function(t){e.fn.floatControls.defaultSettings.active_markers.push(t)},registerURL:function(e,t){urls.push([e,t]);if(urls.length>=6)if(String(window.location.hash)!="")window.onhashchange()},applyMouseTrail:function(){var t=e(window).width()/2,n=e(window).height()/2;e(document).mousemove(function(e){t=e.pageX;n=e.pageY});var r=e("#container").width()/2-60,i=e("#container").height()/2-60;this.loop=setInterval(function(){if(!e("#follower").is(":hover")&&e("body").is(":hover")){r+=(t-r)/12;i+=(n-i)/12;e("#follower").css({left:r,top:i})}},30)},removeMouseTrail:function(){clearInterval(this.loop)},applyMouseActions:function(){this.view_default=true;var t=this;e("#zoom_in").click(function(){t.map.setZoom(t.map.getZoom()+e.fn.floatControls.defaultSettings.zoom_level)});e("#zoom_out").click(function(){t.map.setZoom(t.map.getZoom()-e.fn.floatControls.defaultSettings.zoom_level)});e("#road_map").click(function(){if(t.view_default){t.map.setMapTypeId(google.maps.MapTypeId.TERRAIN);t.view_default=false}else{t.map.setMapTypeId("default_map");t.view_default=true}})}}})(jQuery)
